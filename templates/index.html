<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <title>Chatbot Thư viện TDTU</title>
  <link rel="stylesheet" href="/static/css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
</head>
<body>
  <!-- Theme Toggle Button -->
  <button id="theme-toggle" class="theme-toggle" aria-label="Chuyển đổi giao diện">
    <i class="fas fa-moon"></i>
  </button>

  <!-- Header: logo + title + subtitle luôn canh giữa -->
  <header class="header">
    <div class="header-left">
      <div class="logo-container">
        <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="feature-icon"
        aria-hidden="true"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"
        />
      </div>
      <div class="header-texts">
        <h1 class="header-title">Chatbot Thư viện TDTU</h1>
        <p class="header-subtitle">Tra cứu &amp; hỗ trợ mượn sách nhanh chóng</p>
      </div>
    </div>
  </header>

  <!-- Main Container -->
  <main id="chat-container">
    <!-- Welcome Message -->
    <section class="welcome-message">
      <div class="welcome-content">
        <h3><i class="fas fa-robot"></i> Xin chào! Tôi là chatbot của Thư viện TDTU</h3>
        <p>Tôi có thể giúp bạn trả lời các câu hỏi về:</p>
        <ul class="welcome-list">
          <li><i class="fas fa-clock"></i> Thời gian hoạt động</li>
          <li><i class="fas fa-book"></i> Quy định mượn trả</li>
          <li><i class="fas fa-concierge-bell"></i> Dịch vụ thư viện</li>
          <li><i class="fas fa-info-circle"></i> Và nhiều thông tin khác</li>
        </ul>
      </div>
      <div class="suggested-questions">
        <button class="suggested-question"><i class="fas fa-clock"></i>Giờ giấc hoạt động của thư viện như thế nào?</button>
        <button class="suggested-question"><i class="fas fa-book-reader"></i>Làm sao để mượn tài liệu về nhà?</button>
        <button class="suggested-question"><i class="fas fa-home"></i>Thủ tục đăng ký mượn phòng tại Thư viện được thực hiện như thế nào?</button>
        <button class="suggested-question"><i class="fas fa-hourglass-half"></i>Những loại tài nguyên nào có sẵn tại Thư viện TDTU?</button>
      </div>
    </section>

    <!-- Chat Box với ARIA -->
    <section id="chat-box" class="chat-box" role="log" aria-live="polite">
      <!-- Tin nhắn sẽ được JS append vào đây -->
    </section>

    <!-- Typing Indicator (ẩn mặc định) -->
    <section id="typing-indicator" class="typing-indicator hidden" aria-label="Bot đang gõ">
      <img
        class="avatar"
        src="/static/Image/LOGO THU VIEN FANPAGE BLANK.jpg"
        alt="Bot avatar"
      />
      <div class="dots">
        <span></span><span></span><span></span>
      </div>
    </section>

    <!-- Input Wrapper -->
    <section class="input-wrapper">
      <div class="input-container">
        <label for="user-input" class="sr-only">Nhập câu hỏi của bạn</label>
        <input
          type="text"
          id="user-input"
          placeholder="Nhập câu hỏi của bạn..."
          maxlength="500"
          autocomplete="off"
        />
    
        <button
          id="send-button"
          class="send-button"
          aria-label="Gửi tin nhắn"
          disabled
        >
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
      <!-- Thông báo lỗi (ẩn mặc định) -->
      <div id="error-notice" class="error-message hidden"></div>
    </section>

    <!-- Feedback (ẩn mặc định, show sau khi bot trả lời) -->
    <section
      id="feedback-box"
      class="feedback-box hidden"
      aria-label="Đánh giá phản hồi"
    >
      <button
        class="feedback-btn"
        data-feedback="thumbs-up"
        aria-label="Hữu ích"
      >
        <i class="fas fa-thumbs-up"></i>
      </button>
      <button
        class="feedback-btn"
        data-feedback="thumbs-down"
        aria-label="Không hữu ích"
      >
        <i class="fas fa-thumbs-down"></i>
      </button>
    </section>
  </main>

  <!-- Scripts cuối trang -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="/static/js/chat.js"></script>
</body>
</html>

